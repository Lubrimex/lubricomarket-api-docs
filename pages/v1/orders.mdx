# Список заказов

Метод предназначен для получения информации о созданных вашей компанией заказах в рамках выбранного договора (соглашения). 
Метод вернет все заказы, созданные как посредством API, так и через сайт интернет-магазина «Лубрикомаркет», если такие есть.

## Запрос на получение списка адресов доставки
Для использования необходимо отправить <b>GET-запрос</b> на URL:

| Среда | URL |
|---|---|
| тестовая | https://dev.lubricomarket.ru/api/v1/orders | 
| боевая | https://lubricomarket.ru/api/v1/orders |


## Параметры запроса
Поддерживаются следующие параметры:

| № | Название поля | Описание | Тип поля | Обяз. заполн. |
|---|---|---|---|---|
| 1 | limit | Лимит, количество записей за запрос, по-умолчанию 20 | int | нет |
| 2 | offset | Смещение от начальной позиции, например: ?limit=20&offset=40 позволит получить записи с 41 по 60 | int | нет |
| 3 | status | Заказы с указанным статусом | string(50) | нет |
| 4 | createdFrom | Начальная дата создания заказа в формате (например 2023-06-01 00:00:00 или 2023-06-01) | dateTime / date | нет |
| 5 | createdTo | Конечная дата создания заказа в формате (например 2023-07-01 00:00:00 или 2023-07-01) | dateTime / date | нет |



## Ответ на запрос получения списка заказов
Ответ возвращается в формате JSON:

| № | Название поля | Описание | Тип поля |
|---|---|---|---|
| 1 | results | Массив результатов | array |
| 1.1 | id | Идентификатор заказа | int |
| 1.2 | num | Номер заказа | string(11) |
| 1.3 | organization_name | Организация-продавец | string(100) |
| 1.4 | createdon | Дата создания заказа | dateTime |
| 1.5 | updatedon | Дата обновления заказа | dateTime |
| 1.6 | cost | Общая стоимость заказа, руб. | float |
| 1.7 | status | Статус заказа | string(50) |
| 1.8 | client_inn | ИНН компании-покупателя | string(12) |
| 1.9 | client_company | Название компании-покупателя | string(255) |
| 1.10 | customer_comment | Комментарий покупателя к заказу | string(255) |
| 1.11 | agreement_name | Название договора-соглашения с покупателем | string(255) |
| 1.12 | agreement_manager | ФИО персонального менеджера | string(255) |
| 1.13 | agreement_office | Офис договора-соглашения | string(50) |
| 1.14 | agreement_storehouse | Основной склад договора-соглашения | string(100) |
| 1.15 | agreement_storehouse_uid | Идентификатор основого склада договора-соглашения | string(36) |
| 1.16 | agreement_storehouse_from | Склад с которого будет осуществляться отгрузка заказа | string(100) |
| 1.17 | agreement_storehouse_from_uid | Идентификатор склада с которого будет осуществляться отгрузка заказа | string(36) |
| 1.18 | delivery_full_address | Полный адрес доставки одной строкой | string(255) |
| 1.19 | coordination | Согласование заказа, по-умолчанию false. Если у заказа значение true, значит у покупателя имеется просроченная дебиторская задолженность и отгрузка заказа не гарантируется | boolean |
| 1.20 | products | Массив продукции заказа | array |
| 1.20.1 | title | Название продукта | string(255) |
| 1.20.2 | itemKey | Идентификатор товара | string(36) |
| 1.20.3 | article | Артикул товара | string(50) |
| 1.20.4 | price | Стоимость единицы продукции, руб. | float |
| 1.20.5 | count | Количество товара в заказе | int |
| 1.20.6 | count_unit | Единица измерения (шт.) | string(20) |
| 1.20.7 | cost | Общая стоимость данного товара в заказе | array |
| 2 | total | Количество найденных по запросу заказов | int |
| 3 | success | Возвращается со значением false только в случае ошибки и с полем message описывающим ошибку | boolean |
| 4 | message | Описание ошибки | string(255) |

## Примеры запросов

```
https://dev.lubricomarket.ru/api/v1/orders?limit=1
```


```json
{
    "results": [
        {
            "id": "831",
            "num": "ЛМ000000831",
            "organization_name": "ООО ЛУБРИМЕКС",
            "createdon": "2023-10-12 10:30:45",
            "updatedon": null,
            "cost": "35099.86",
            "status": "Принят",
            "client_inn": "616302236704",
            "client_company": "Тестовый клиент",
            "customer_comment": "Test Order",
            "agreement_name": "Договор Лубримекс ТЕСТ",
            "agreement_manager": "Иванов Иван Иванович",
            "agreement_office": "Астрахань",
            "agreement_office_uid": "a022fbbf-0f0f-11ec-bbe4-0cc47afc5615",
            "agreement_storehouse": "Лубримекс Склад ОП Астрахань",
            "agreement_storehouse_uid": "dfdbdc22-eca3-11e8-a205-b06ebf3af234",
            "agreement_storehouse_from": "Лубримекс Склад ОП Волгоград",
            "agreement_storehouse_from_uid": "dfdbdc20-eca3-11e8-a205-b06ebf3af234",
            "delivery_full_address": "344065, Ростовская область, г.о. город Ростов-на-Дону, г Ростов-на-Дону, ул Троллейбусная, д. 4",
            "coordination": "0",
            "products": [
                {
                    "title": "Масло гидравлическое Total AZOLLA ZS 46 (e20L)",
                    "itemKey": "fdba8ab2-fd23-11e8-a205-b06ebf3af234",
                    "article": "10040901",
                    "price": "8499.08",
                    "count": "2",
                    "count_unit": "шт.",
                    "cost": "16998.16"
                },
                {
                    "title": "Масло моторное синт. ELF EVOLUTION FULLTECH  LLX 5W30 (e1L)",
                    "itemKey": "0b6f8945-300e-11e3-9315-0015179ccc45",
                    "article": "213905",
                    "price": "1103.54",
                    "count": "1",
                    "count_unit": "шт.",
                    "cost": "1103.54"
                }
            ]
        }
    ],
    "total": 71
}
```
